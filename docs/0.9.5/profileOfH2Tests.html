<html xmlns="http://www.w3.org/1999/xhtml">
      <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"></meta>
        <title>Performance profile of Squeryl queries</title>
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script type="text/javascript">
          google.load('visualization', '1', {packages: ['corechart']});
        </script>
        <script type="text/javascript">

          
    function drawBarGraph(divId, chartTitle, statType, queryClasses, measure) {
              var data = new google.visualization.DataTable();

              data.addColumn('string', 'Z');
              data.addColumn('number', statType);

              data.addRows(queryClasses.length);

              for (var j = 0; j < queryClasses.length; ++j) {
                data.setValue(j, 0, queryClasses[j].toString());
                data.setValue(j, 1, measure[j]);
              }

              var v = new google.visualization.BarChart(document.getElementById(divId))

              v.draw(data,
                       {title: chartTitle,
                        width:600, height:400,
                        vAxis: {title: "Queries"},
                        hAxis: {title: statType}
                       }
                  );
    }
  

          function drawVisualization() {
            drawBarGraph('chart1','Top 10 statements with longest avg','avg time',['org.squeryl.tests.musicdb.MusicDbTestRun.selfJoinNested4LevelPartialSelect(MusicDb.scala:183)','org.squeryl.tests.musicdb.MusicDbTestRun.songCountPerAlbumIdJoinedWithAlbumNested(MusicDb.scala:255)','org.squeryl.tests.schooldb.SchoolDbTestRun.testHavingClause(SchoolDb.scala:1004)','org.squeryl.tests.musicdb.MusicDbTestRun.basicSelectUsingWhereOnQueryableNested(MusicDb.scala:118)','org.squeryl.tests.mutablerelations.Professor.courses(SchoolDbMutableRelations.scala:14)','org.squeryl.tests.schooldb2.SchoolDb2Tests.testCompositeEquality(SchoolDb2.scala:351)','org.squeryl.tests.schooldb2.Professor.courses(SchoolDb2.scala:18)','org.squeryl.tests.musicdb.MusicDbTestRun.songCountPerAlbum(MusicDb.scala:208)','org.squeryl.tests.musicdb.MusicDbTestRun.selfJoinNested3Level(MusicDb.scala:180)','org.squeryl.tests.schooldb.SchoolDbTestRun.testLikeOperator(SchoolDb.scala:564)'],[16.0,10.0,8.0,6.0,6.0,4.0,4.0,4.0,3.0,3.0]);
drawBarGraph('chart2','Top 10 most called statements','invocation count',['org.squeryl.tests.demos.Playlist.addSong(MusicDb.scala:79)','org.squeryl.tests.mutablerelations.Subject.courses(SchoolDbMutableRelations.scala:36)','org.squeryl.tests.mutablerelations.Course.subject(SchoolDbMutableRelations.scala:26)','org.squeryl.tests.schooldb2.SchoolDb2Tests.testCompositeEquality(SchoolDb2.scala:345)','org.squeryl.tests.musicdb.MusicDbTestRun.testTimestampDownToMillis(MusicDb.scala:631)','org.squeryl.tests.musicdb.MusicDbTestRun._truncateTimestampInTimeOfLastUpdate(MusicDb.scala:573)','org.squeryl.tests.musicdb.MusicDbTestRun.countCds2(MusicDb.scala:286)','org.squeryl.tests.musicdb.MusicDbTestRun._betweenArtists(MusicDb.scala:791)','org.squeryl.tests.musicdb.MusicDbTestRun.testTimestamp(MusicDb.scala:548)','org.squeryl.tests.schooldb.SchoolDbTestRun.testPartialUpdate1(SchoolDb.scala:950)'],[12,6,6,3,3,3,3,3,3,3]);
drawBarGraph('chart3','Top 10 statements incurring most cummulative execution time','cummulative execution time',['org.squeryl.tests.musicdb.MusicDbTestRun.selfJoinNested4LevelPartialSelect(MusicDb.scala:183)','org.squeryl.tests.musicdb.MusicDbTestRun.songCountPerAlbumIdJoinedWithAlbumNested(MusicDb.scala:255)','org.squeryl.tests.schooldb2.SchoolDb2Tests.testCompositeEquality(SchoolDb2.scala:351)','org.squeryl.tests.schooldb.SchoolDbTestRun.testHavingClause(SchoolDb.scala:1004)','org.squeryl.tests.mutablerelations.Professor.courses(SchoolDbMutableRelations.scala:14)','org.squeryl.tests.musicdb.MusicDbTestRun.basicSelectUsingWhereOnQueryableNested(MusicDb.scala:118)','org.squeryl.tests.schooldb2.Professor.courses(SchoolDb2.scala:18)','org.squeryl.tests.musicdb.MusicDbTestRun.songCountPerAlbum(MusicDb.scala:208)','org.squeryl.tests.musicdb.MusicDbTestRun.avgSongCountForAllArtists(MusicDb.scala:294)','org.squeryl.tests.musicdb.MusicDbTestRun.selfJoinNested3Level(MusicDb.scala:180)'],[16,10,8,8,6,6,4,4,4,3]);
drawBarGraph('chart4','Top 10 statements with highest avg row count','avg row count',['org.squeryl.tests.schooldb.SchoolDbTestRun.addressesOfStudentsOlderThan24(SchoolDb.scala:266)','org.squeryl.tests.musicdb.MusicDbTestRun.testOuterJoinWithSubQuery(MusicDb.scala:154)','org.squeryl.tests.musicdb.MusicDbTestRun.testDynamicWhereClause1(MusicDb.scala:932)','org.squeryl.tests.musicdb.MusicDbTestRun.testDynamicWhereClause1(MusicDb.scala:912)','org.squeryl.tests.schooldb.SchoolDbTestRun.testNewLeftOuterJoin2(SchoolDb.scala:1290)','org.squeryl.tests.schooldb.SchoolDbTestRun.testLeftOuterJoin1(SchoolDb.scala:423)','org.squeryl.tests.musicdb.MusicDbTestRun.testJoinWithCompute(MusicDb.scala:129)','org.squeryl.tests.musicdb.MusicDbTestRun.testNotInTautology(MusicDb.scala:957)','org.squeryl.tests.schooldb.SchoolDbTestRun.testNewLeftOuterJoin3(SchoolDb.scala:1330)','org.squeryl.tests.schooldb.SchoolDbTestRun.testNewLeftOuterJoin1(SchoolDb.scala:1234)'],[9.0,5.0,5.0,5.0,5.0,5.0,5.0,5.0,5.0,5.0]);

          }

          google.setOnLoadCallback(drawVisualization);
        </script>
      </head>
      <body style="font-family: Arial;border: 0 none;">
        <div style="width: 1000px; height: 400px;" id="chart1"></div>
        <div style="width: 1000px; height: 400px;" id="chart2"></div>
        <div style="width: 1000px; height: 400px;" id="chart3"></div>
        <div style="width: 1000px; height: 400px;" id="chart4"></div>
      </body>
    </html>